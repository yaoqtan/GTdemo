<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="initial-scale=1, user-scalable=0, minimal-ui">
<title>guaguaka</title>
</head>
<script src="jquery-1.7.2.min.js" type="text/javascript"></script>
<script>
function getSrceenWH(){
	w = $(window).width();
	h = $(window).height();
	$('body').width(w).height(h);
	$('.bg').width(w).height(h);
	$('.bg img').width(w).height(h);
}
window.onresize = function(){  
	getSrceenWH();
}  
$(window).resize();
$(function(){
	getSrceenWH();	 
});
</script>

<style>
*{margin:0px;padding:0px;list-style:none;-webkit-appearance:none;border:none;}
body{overflow:hidden;}
.bg{width:100%;height:100%;z-index:0;overflow:hidden;}
.bg img{width:100%;height:100%;overflow:hidden;}
@media screen and (min-width: 320px) and (max-width: 340px)
{.img{width:100%;position:absolute;bottom:5px;left:0px;height:70px}}
@media screen and (min-width: 320px) and (max-width: 340px)
{.img img{float:left;width:24%;margin-left:7%;height:70px}}
@media screen and (min-width: 340px) and (max-width: 1200px)
{.img{width:100%;position:absolute;bottom:12px;left:0px;}}
@media screen and (min-width: 340px) and (max-width: 1200px)
{.img img{float:left;width:24%;margin-left:7%;}}
.jiangp{position:absolute;top:70%;left:0px;background:#FFF;margin-left:11%;border-radius:15px;box-sizing:border-box;z-index:0;width:78%; height:43px;line-height:43px;margin-top:1px;text-align:center;color:red;font-family:'微软雅黑';font-size:1.2em;}
canvas{position:absolute;top:70%;left:0px;margin-left:10%;border-radius:10px;-webkit-border-radius:10px;z-index:999;}
</style>
<body>
<div class="bg">
     <img src="images/bg_01.jpg" />
</div>
<div class='jiangp'>
    <span>合肥学堂信息技术有限公司</span>
</div>
<canvas></canvas>
<script type="text/javascript">     
(function(bodyStyle){         
	bodyStyle.mozUserSelect = 'none';         
	bodyStyle.webkitUserSelect = 'none';           
	var img = new Image();         
	var canvas = document.querySelector('canvas');         
	canvas.style.backgroundColor='transparent';         
	canvas.style.position = 'absolute';           
	img.addEventListener('load',function(e){  
		var ctx;
		var w = $(window).width()*0.8, h =45; 
		var f=$(window).width()*0.4            
		var offsetX = canvas.offsetLeft, offsetY = canvas.offsetTop;             
		var mousedown = false;               
		function layer(ctx){
		 
			ctx.beginPath();                
			ctx.fillStyle = 'gray';                 
			ctx.fillRect(0, 0, w, h); 
	 
			
	 
			ctx.beginPath();  
			ctx.font = "Bold 20px Arial"
			ctx.textAlign = "center";  
			ctx.fillStyle = "#fff"; 
			ctx.fillText("刮奖区", f, 30);                             
		           
		}   
		function eventDown(e){                 
			e.preventDefault();                 
			mousedown=true;             
		}   
		function eventUp(e){                 
			e.preventDefault();                 
			mousedown=false;             
		}               
		function eventMove(e){                 
			e.preventDefault();                 
			if(mousedown){                     
				if(e.changedTouches){                         
					e=e.changedTouches[e.changedTouches.length-1];                     
				}                     
				var x = (e.clientX + document.body.scrollLeft || e.pageX) - offsetX || 0,                         
				y = (e.clientY + document.body.scrollTop || e.pageY) - offsetY || 0;                     
				with(ctx){                    
					beginPath()                     
					arc(x, y, 15, 0, Math.PI * 2);                         
					fill();                     
				}                
			}             
		}               
		canvas.width=w;             
		canvas.height=h;             
		canvas.style.backgroundImage='url('+img.src+')';             
		ctx=canvas.getContext('2d');             
		ctx.fillStyle='red';             
		ctx.fillRect(0, 0, w, h);             
		layer(ctx);               
		ctx.globalCompositeOperation = 'destination-out';               
		canvas.addEventListener('touchstart', eventDown);             
		canvas.addEventListener('touchend', eventUp);             
		canvas.addEventListener('touchmove', eventMove);             
		canvas.addEventListener('mousedown', eventDown);             
		canvas.addEventListener('mouseup', eventUp);             
		canvas.addEventListener('mousemove', eventMove);       
	});
	
	img.src ='images/ditu.png';

})(document.body.style);
</script> 
<div class="img">
    <img src='images/jp_03.png' />
    <img src='images/jp_05.png' />
    <img src='images/jp_07.png' />
</div>
</body>
</html>
