<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset = "utf-8">
    <meta http-equiv = "X-UA-Compatible" content = "IE = edge,chrome">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name = "format-detection" content = "telephone=no">
    <title>元素到可视区域的距离</title>

    <style type="text/css">
    *{
      margin: 0;
      padding:0;
    }
    p{
      height: 1600px;

    }
    .wrap{
      position: relative;
      margin-bottom: 200px;
      height: 600px

    }
    .top{
      position: absolute;
      top:-100px;
      left: 50%;
      width: 600px;
      height:200px;
      margin-left:-300px;
      background:#000;
    }

    .animation{
      animation:5s first ;
    }
    @keyframes first{
      0%{
        top:0;
        
      }
      100%{
        top:-100px;
        
      }

    }
    </style>
   <script type="text/javascript" src = "require/jquery-1.11.3.min.js"></script>
    <script type="text/javascript">
    $(function(){
      var box = document.getElementById("top");
      var top =box.getBoundingClientRect().top;//距离可视区域的高度
      var he = document.documentElement.clientHeight;//可视区域高度
      
      if(top<he){
          box.className="top animation";
      }
      window.onscroll = function(){
        top =box.getBoundingClientRect().top
         if(top-he<0){
          box.className="top animation";
          console.log(top-he)
      }
        
      }
    })
     
    </script>
   <!--  <script type="text/javascript" src = "require/require.js" data-main = "require/main"></script> -->
  </head>
  <body>
     <p></p><div class = "wrap"><div id = "top" class = "top"></div></div>
  </body>
</html>